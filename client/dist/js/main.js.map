{"version":3,"sources":["webpack:///./client/src/js/actions/mapActions.js","webpack:///./client/src/js/components/Locator.jsx","webpack:///./client/src/js/queries/locatorSettings.js","webpack:///./client/src/js/reducers/index.js","webpack:///./client/src/js/actions/searchActions.js","webpack:///./client/src/js/boot/index.jsx","webpack:///./client/src/js/components/map/Location.jsx","webpack:///./client/src/js/components/map/Map.jsx","webpack:///./client/src/js/components/map/MapArea.jsx","webpack:///./client/src/js/components/map/MapContainer.jsx","webpack:///./client/src/js/components/search/CategoryDropDown.jsx","webpack:///./client/src/js/components/search/RadiusDropDown.jsx","webpack:///./client/src/js/components/search/SearchBar.jsx","webpack:///./client/src/js/queries/readLocations.js","webpack:///./client/src/js/reducers/mapReducer.js","webpack:///./client/src/js/reducers/searchReducer.js","webpack:///./client/src/js/reducers/settingsReducer.js","webpack:///./client/src/js/actions/ActionTypes.js"],"names":["openMarker","highlightLocation","closeMarker","target","type","MARKER_CLICK","payload","key","MARKER_CLOSE","Locator","props","loadedSettings","data","readLocations","Component","propTypes","shape","object","bool","isRequired","defaultProps","mapStateToProps","state","address","search","radius","category","unit","settings","skip","options","variables","reducers","client","reducer","map","inputs","SEARCH","container","document","querySelector","networkInterface","uri","dataset","apiUrl","opts","credentials","reduxRootSelector","composedMiddleware","middleware","window","__REDUX_DEVTOOLS_EXTENSION__","f","store","render","query","id","locatorId","Location","location","distance","parseFloat","toFixed","daddr","Address","Address2","City","State","PostalCode","cleanAddress","replace","index","current","template","onClick","htmlToReactParser","loc","Distance","getDistance","DirectionsLink","getDaddr","Unit","Number","className","ID","parse","Title","string","Website","Phone","Email","number","func","markers","marker","position","defaultAnimation","onMarkerClick","showCurrent","onMarkerClose","infoContent","Map","lat","lng","clusters","MapArea","handleLocationClick","bind","dispatch","locs","locations","edges","undefined","node","renderLocations","array","listTemplate","MapContainer","handleMarkerClick","handleMarkerClose","i","length","Lat","Lng","height","getMarkers","infoWindowTemplate","CategoryDropDown","categories","Object","keys","mappedCategories","oneOfType","RadiusDropDown","radii","mappedRadii","SearchBar","handleSubmit","event","preventDefault","addressInput","getElementsByName","value","radiusInput","categoryInput","defaultState","action","QUERY_RESULT","result","locatorSettings","constructor","Array","Clusters","limit","Limit","JSON","Radii","Categories","compile","InfoWindowTemplate","ListTemplate","ActionTypes"],"mappings":";;;;;;;;;;;QAEgBA,U,GAAAA,U;QASAC,iB,GAAAA,iB;QAOAC,W,GAAAA,W;;AAlBhB;;;;;;AAEO,SAASF,UAAT,CAAoBG,MAApB,EAA4B;AACjC,SAAO;AACLC,UAAM,sBAAWC,YADZ;AAELC,aAAS;AACPC,WAAKJ;AADE;AAFJ,GAAP;AAMD;;AAEM,SAASF,iBAAT,CAA2BE,MAA3B,EAAmC;AACxC,SAAO;AACLC,UAAM,sBAAWC,YADZ;AAELC,aAASH;AAFJ,GAAP;AAID;;AAEM,SAASD,WAAT,CAAqBC,MAArB,EAA6B;AAClC,SAAO;AACLC,UAAM,sBAAWI,YADZ;AAELF,aAASH;AAFJ,GAAP;AAID,C;;;;;;;;;;;;;;;;ACvBD;;;;AACA;;;;AACA;;AAIA;;AAEA;;;;AACA;;;;AACA;;;;;;;;;;;;IAKMM,O;;;;;;;;;;;6BAKK;AACP,UAAI,KAAKC,KAAL,CAAWC,cAAX,KAA8B,KAAlC,EAAyC;AACvC,eAAO,0CAAP;AACD;AACD,aACE;AAAA;AAAA;AACE,gEADF;AAEE,2DAAS,WAAW,KAAKD,KAAL,CAAWE,IAAX,CAAgBC,aAApC;AAFF,OADF;AAMD;;;;EAfmB,gBAAMC,S;;AAsB5BL,QAAQM,SAAR,GAAoB;AAClBH,QAAM,oBAAUI,KAAV,CAAgB;AACpBH,mBAAe,oBAAUI;AADL,GAAhB,CADY;AAIlBN,kBAAgB,oBAAUO,IAAV,CAAeC;AAJb,CAApB;;AAWAV,QAAQW,YAAR,GAAuB;AACrBR,QAAM;AACJC,mBAAe;AADX;AADe,CAAvB;;AAYA,SAASQ,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLC,aAASD,MAAME,MAAN,CAAaD,OADjB;AAELE,YAAQH,MAAME,MAAN,CAAaC,MAFhB;AAGLC,cAAUJ,MAAME,MAAN,CAAaE,QAHlB;AAILC,UAAML,MAAMM,QAAN,CAAeD,IAJhB;AAKLhB,oBAAgBW,MAAMM,QAAN,CAAejB;AAL1B,GAAP;AAOD;;kBAYc,0BACb,yBAAQU,eAAR,CADa,EAEb,mDAAuB;AACrBQ,QAAM;AAAA,QAAGlB,cAAH,QAAGA,cAAH;AAAA,WAAwB,CAACA,cAAzB;AAAA,GADe;AAErBmB,WAAS;AAAA,QAAGP,OAAH,SAAGA,OAAH;AAAA,QAAYE,MAAZ,SAAYA,MAAZ;AAAA,QAAoBC,QAApB,SAAoBA,QAApB;AAAA,QAA8BC,IAA9B,SAA8BA,IAA9B;AAAA,WAA0C;AACjDI,iBAAW;AAETR,iBAASA,OAFA;AAGTE,gBAAQA,MAHC;AAITC,kBAAUA,QAJD;AAKTC,cAAMA;AALG;AADsC,KAA1C;AAAA;AAFY,CAAvB,CAFa,EAeblB,OAfa,C;;;;;;;;;;;;;;;;AChFf;;;;;;;;;;;;;;;;;;;;;kBCQwBuB,Q;;AARxB;;AAIA;;;;AACA;;;;AACA;;;;;;AAEe,SAASA,QAAT,CAAkBC,MAAlB,EAA0B;AACvC,SAAO,4BAAgB;AACrBA,YAAQA,OAAOC,OAAP,EADa;AAErBV,mCAFqB;AAGrBW,6BAHqB;AAIrBP;AAJqB,GAAhB,CAAP;AAMD,C;;;;;;;;;;;;;QCZeJ,M,GAAAA,M;;AAHhB;;;;;;AAGO,SAASA,MAAT,CAAgBY,MAAhB,EAAwB;AAC7B,SAAO;AACLhC,UAAM,sBAAWiC,MADZ;AAEL/B,aAAS8B;AAFJ,GAAP;AAID,C;;;;;;;;;;ACPD;;;;AACA;;;;AAEA;;AAKA;;;;AAEA;;;;AACA;;AAEA;;;;AACA;;;;AACA;;;;;;AAGA,IAAME,YAAYC,SAASC,aAAT,CAAuB,UAAvB,CAAlB;;AAGA,IAAMP,SAAS,2BAAiB;AAC9BQ,oBAAkB,0CAAuB;AACvCC,SAAKJ,UAAUK,OAAV,CAAkBC,MADgB;AAEvCC,UAAM;AACJC,mBAAa;AADT;AAFiC,GAAvB,CADY;;AAQ9BC,qBAAmB;AAAA,WAASzB,MAAMW,MAAf;AAAA;AARW,CAAjB,CAAf;;AAgBA,SAASe,kBAAT,GAA8B;AAC5B,SAAO,oBACL,4BAAgBf,OAAOgB,UAAP,EAAhB,uBADK,EAGJ,OAAOC,OAAOC,4BAAd,KAA+C,WAAhD,GAA+DD,OAAOC,4BAAP,EAA/D,GAAuG;AAAA,WAAKC,CAAL;AAAA,GAHlG,CAAP;AAKD;;AAGD,IAAMC,QAAQ,wBAAY,wBAAYpB,MAAZ,CAAZ,EAAiCe,oBAAjC,CAAd;;AAGA,mBAASM,MAAT,CACE;AAAA;AAAA,IAAgB,OAAOD,KAAvB,EAA8B,QAAQpB,MAAtC;AACE;AADF,CADF,EAIIK,SAJJ;;AAOAL,OAAOsB,KAAP,CAAa;AACXA,kCADW;AAEXxB,aAAW;AACTyB,QAAIlB,UAAUK,OAAV,CAAkBc;AADb;AAFA,CAAb,E;;;;;;;;;;;;;;;;;;ACzDA;;;;AACA;;;;AACA;;;;;;;;;;IAMMC,Q;;;;;;;;;;;kCAKU;AAAA,mBACiB,KAAKhD,KADtB;AAAA,UACJiD,QADI,UACJA,QADI;AAAA,UACMnC,MADN,UACMA,MADN;;AAEZ,UAAIoC,WAAWD,SAASC,QAAxB;AACAA,iBAAWC,WAAWD,QAAX,CAAX;;AAEA,UAAIA,aAAa,CAAb,IAAkB,CAACpC,MAAvB,EAA+B;AAC7B,eAAO,KAAP;AACD;;AAED,aAAOoC,SAASE,OAAT,CAAiB,CAAjB,CAAP;AACD;;;+BAMU;AAAA,UACDH,QADC,GACY,KAAKjD,KADjB,CACDiD,QADC;;AAET,UAAII,QAAQ,EAAZ;;AAEA,UAAIJ,SAASK,OAAb,EAAsB;AACpBD,iBAAYJ,SAASK,OAArB;AACD;;AAED,UAAIL,SAASM,QAAb,EAAuB;AACrBF,iBAAYJ,SAASM,QAArB;AACD;;AAED,UAAIN,SAASO,IAAb,EAAmB;AACjBH,iBAAYJ,SAASO,IAArB;AACD;;AAED,UAAIP,SAASQ,KAAb,EAAoB;AAClBJ,iBAAYJ,SAASQ,KAArB;AACD;;AAED,UAAIR,SAASS,UAAb,EAAyB;AACvBL,iBAASJ,SAASS,UAAlB;AACD;;AAED,aAAO,KAAKC,YAAL,CAAkBN,KAAlB,CAAP;AACD;;;iCAQYxC,O,EAAS;AACpB,aAAOA,QAAQ+C,OAAR,CAAgB,YAAhB,EAA8B,EAA9B,EAAkCA,OAAlC,CAA0C,OAA1C,EAAmD,GAAnD,CAAP;AACD;;;6BAMQ;AAAA,oBAC+D,KAAK5D,KADpE;AAAA,UACCiD,QADD,WACCA,QADD;AAAA,UACWY,KADX,WACWA,KADX;AAAA,UACkBC,OADlB,WACkBA,OADlB;AAAA,UAC2BhD,MAD3B,WAC2BA,MAD3B;AAAA,UACmCiD,QADnC,WACmCA,QADnC;AAAA,UAC6C9C,IAD7C,WAC6CA,IAD7C;AAAA,UACmD+C,QADnD,WACmDA,OADnD;;AAEP,UAAMC,oBAAoB,yBAA1B;;AAEA,UAAMC,mBACDjB,QADC;AAEJkB,kBAAU,KAAKC,WAAL,EAFN;AAGJC,+DAAqD,KAAKV,YAAL,CAAkB7C,MAAlB,CAArD,eAAwF,KAAKwD,QAAL,EAHpF;AAIJC,cAAMtD,IAJF;AAKJuD,gBAAQX,QAAQ;AALZ,QAAN;;AAQA,UAAIY,YAAY,eAAhB;AACA,UAAIX,YAAYb,SAASyB,EAAzB,EAA6B;AAC3BD,qBAAa,QAAb;AACD;AACD,aAEE;AAAA;AAAA,UAAI,iBAAeZ,KAAnB,EAA0B,WAAWY,SAArC,EAAgD,SAAS;AAAA,mBAAMT,SAAQf,SAASyB,EAAjB,CAAN;AAAA,WAAzD;AACGT,0BAAkBU,KAAlB,CAAwBZ,SAASG,GAAT,CAAxB;AADH,OAFF;AAMD;;;;EApFoB,gBAAM9D,S;;AA2F7B4C,SAAS3C,SAAT,GAAqB;AACnB4C,YAAU,oBAAU3C,KAAV,CAAgB;AACxBsE,WAAO,oBAAUC,MADO;AAExBvB,aAAS,oBAAUuB,MAFK;AAGxBtB,cAAU,oBAAUsB,MAHI;AAIxBrB,UAAM,oBAAUqB,MAJQ;AAKxBpB,WAAO,oBAAUoB,MALO;AAMxBnB,gBAAY,oBAAUmB,MANE;AAOxBC,aAAS,oBAAUD,MAPK;AAQxBE,WAAO,oBAAUF,MARO;AASxBG,WAAO,oBAAUH,MATO;AAUxB3B,cAAU,oBAAU2B;AAVI,GAAhB,EAWPpE,UAZgB;AAanBoD,SAAO,oBAAUoB,MAAV,CAAiBxE,UAbL;AAcnBqD,WAAS,oBAAUe,MAAV,CAAiBpE,UAdP;AAenBK,UAAQ,oBAAU+D,MAAV,CAAiBpE,UAfN;AAgBnBQ,QAAM,oBAAU4D,MAAV,CAAiBpE,UAhBJ;AAiBnBuD,WAAS,oBAAUkB,IAAV,CAAezE,UAjBL;AAkBnBsD,YAAU,oBAAUmB,IAAV,CAAezE;AAlBN,CAArB;;kBAwBeuC,Q;;;;;;;;;;;;;;AC3Hf;;;;AACA;;AACA;;;;;;AAEA,IAAMmC,UAAU,SAAVA,OAAU,CAACnF,KAAD,EAAW;AACzB,SAAOA,MAAMmF,OAAN,CAAc1D,GAAd,CAAkB;AAAA,WACvB;AAAA;AAAA;AACE,aAAK2D,OAAOvF,GADd;AAEE,kBAAUuF,OAAOC,QAFnB;AAGE,0BAAkBD,OAAOE,gBAH3B;AAIE,iBAAS;AAAA,iBAAMtF,MAAMuF,aAAN,CAAoBH,MAApB,CAAN;AAAA;AAJX;AAMGpF,YAAM8D,OAAN,KAAkBsB,OAAOvF,GAAzB,IAAgCG,MAAMwF,WAAtC,IACC;AAAA;AAAA,UAAY,cAAc;AAAA,mBAAMxF,MAAMyF,aAAN,CAAoBL,MAApB,CAAN;AAAA,WAA1B;AACE;AAAA;AAAA;AAAMA,iBAAOM;AAAb;AADF;AAPJ,KADuB;AAAA,GAAlB,CAAP;AAcD,CAfD;;AAiBA,IAAMC,MAAM,oCAAc;AAAA,SACxB;AAAA;AAAA;AACE,mBAAa,CADf;AAEE,qBAAe,EAAEC,KAAK,UAAP,EAAmBC,KAAK,CAAC,UAAzB;;AAFjB;AAKG7F,UAAM8F,QAAN,KAAmB,MAAnB,GAA4B;AAAA;AAAA;AACzB,2BADyB;AAEzB,+BAFyB;AAGzB,kBAAU;AAHe;AAKxBX,cAAQnF,KAAR;AALwB,KAA5B,GAOCmF,QAAQnF,KAAR;AAZJ,GADwB;AAAA,CAAd,CAAZ;;kBAiBe2F,G;;;;;;;;;;;;;;;;ACtCf;;;;AACA;;;;AACA;;AAEA;;AACA;;;;AACA;;;;;;;;;;;;IAMMI,O;;;AAMJ,mBAAY/F,KAAZ,EAAmB;AAAA;;AAAA,kHACXA,KADW;;AAEjB,UAAKgG,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBC,IAAzB,OAA3B;AAFiB;AAGlB;;;;wCAEmBxG,M,EAAQ;AAC1B,WAAKO,KAAL,CAAWkG,QAAX,CAAoB,4BAAWzG,MAAX,CAApB;AACD;;;sCAMiB;AAAA;;AAAA,mBAC4B,KAAKO,KADjC;AAAA,UACR8D,OADQ,UACRA,OADQ;AAAA,UACChD,MADD,UACCA,MADD;AAAA,UACSG,IADT,UACSA,IADT;AAAA,UACe8C,QADf,UACeA,QADf;;AAEhB,UAAMoC,OAAO,KAAKnG,KAAL,CAAWoG,SAAX,CAAqBC,KAAlC;AACA,UAAIF,SAASG,SAAb,EAAwB;AACtB,eAAOH,KAAK1E,GAAL,CAAS,UAACwB,QAAD,EAAWY,KAAX;AAAA,iBAEZ;AACE,iBAAKZ,SAASsD,IAAT,CAAc7B,EADrB;AAEE,mBAAOb,KAFT;AAGE,sBAAUZ,SAASsD,IAHrB;AAIE,qBAASzC,OAJX;AAKE,oBAAQhD,MALV;AAME,kBAAMG,IANR;AAOE,qBAAS,OAAK+E,mBAPhB;AAQE,sBAAUjC;AARZ,YAFY;AAAA,SAAT,CAAP;AAcD;AACD,aAAO,IAAP;AACD;;;6BAMQ;AACP,aACE;AAAA;AAAA,UAAK,WAAU,UAAf;AACE,gEAAc,WAAW,KAAK/D,KAAL,CAAWoG,SAApC,GADF;AAEE;AAAA;AAAA,YAAK,WAAU,UAAf;AACE;AAAA;AAAA;AACG,iBAAKI,eAAL;AADH;AADF;AAFF,OADF;AAUD;;;;EAxDmB,gBAAMpG,S;;AA+D5B2F,QAAQ1F,SAAR,GAAoB;AAClB+F,aAAW,oBAAU9F,KAAV,CAAgB;AACzB+F,WAAO,oBAAUI;AADQ,GAAhB,CADO;AAIlB3C,WAAS,oBAAUe,MAJD;AAKlB/D,UAAQ,oBAAU+D,MALA;AAMlB5D,QAAM,oBAAU4D,MAAV,CAAiBpE,UANL;AAOlByF,YAAU,oBAAUhB,IAAV,CAAezE;AAPP,CAApB;;AAcAsF,QAAQrF,YAAR,GAAuB;AACrB0F,aAAW;AACTC,WAAO;AADE,GADU;AAIrBvC,WAAS,IAJY;AAKrBhD,UAAQ;AALa,CAAvB;;AAaA,SAASH,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLkD,aAASlD,MAAMa,GAAN,CAAUqC,OADd;AAELhD,YAAQF,MAAME,MAAN,CAAaD,OAFhB;AAGLI,UAAML,MAAMM,QAAN,CAAeD,IAHhB;AAIL8C,cAAUnD,MAAMM,QAAN,CAAewF;AAJpB,GAAP;AAMD;;kBAMc,yBAAQ/F,eAAR,EAAyBoF,OAAzB,C;;;;;;;;;;;;;;;;ACnHf;;;;AACA;;;;AACA;;AACA;;AAEA;;AACA;;;;;;;;;;;;IAMMY,Y;;;AAMJ,wBAAY3G,KAAZ,EAAmB;AAAA;;AAAA,4HACXA,KADW;;AAEjB,UAAK4G,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBX,IAAvB,OAAzB;AACA,UAAKY,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBZ,IAAvB,OAAzB;AAHiB;AAIlB;;;;iCAKY;AACX,UAAMG,YAAY,KAAKpG,KAAL,CAAWoG,SAAX,CAAqBC,KAAvC;AACA,UAAMlB,UAAU,EAAhB;;AAEA,UAAMlB,oBAAoB,yBAA1B;;AAEA,UAAI6C,UAAJ;;AAEA,WAAKA,IAAI,CAAT,EAAYA,IAAIV,UAAUW,MAA1B,EAAkCD,GAAlC,EAAuC;AACrC,YAAM5C,MAAMkC,UAAUU,CAAV,EAAaP,IAAzB;AACApB,gBAAQA,QAAQ4B,MAAhB,IAA0B;AACxB1B,oBAAU;AACRO,iBAAKpB,OAAON,IAAI8C,GAAX,CADG;AAERnB,iBAAKrB,OAAON,IAAI+C,GAAX;AAFG,WADc;AAKxBpH,eAAKqE,IAAIQ,EALe;AAMxBY,4BAAkB,CANM;AAOxBI,uBACE;AAAA;AAAA;AACGzB,8BAAkBU,KAAlB,CAAwB,KAAK3E,KAAL,CAAW+D,QAAX,CAAoBG,GAApB,CAAxB;AADH;AARsB,SAA1B;AAaD;AACD,aAAOiB,OAAP;AACD;;;sCAMiB1F,M,EAAQ;AACxB,WAAKO,KAAL,CAAWkG,QAAX,CAAoB,mCAAkBzG,MAAlB,CAApB;AACD;;;sCAMiBA,M,EAAQ;AACxB,WAAKO,KAAL,CAAWkG,QAAX,CAAoB,6BAAYzG,MAAZ,CAApB;AACD;;;6BAEQ;AAAA,mBACoC,KAAKO,KADzC;AAAA,UACC8D,OADD,UACCA,OADD;AAAA,UACU0B,WADV,UACUA,WADV;AAAA,UACuBM,QADvB,UACuBA,QADvB;;AAEP,aACE;AAAA;AAAA,UAAK,IAAG,eAAR;AACE;AACE,4BACE,uCAAK,WAAU,KAAf,GAFJ;AAIE,sBACE,uCAAK,OAAO,EAAEoB,QAAQ,MAAV,EAAZ,GALJ;AAOE,mBAAS,KAAKC,UAAL,EAPX;AAQE,yBAAe,KAAKP,iBARtB;AASE,yBAAe,KAAKC,iBATtB;AAUE,mBAAS/C,OAVX;AAWE,uBAAa0B,WAXf;AAYE,oBAAUM;AAZZ;AADF,OADF;AAkBD;;;;EA9EwB,gBAAM1F,S;;AAqFjCuG,aAAatG,SAAb,GAAyB;AACvB+F,aAAW,oBAAU9F,KAAV,CAAgB;AACzB+F,WAAO,oBAAUI;AADQ,GAAhB,CADY;AAIvBP,YAAU,oBAAUhB,IAAV,CAAezE,UAJF;AAKvBqD,WAAS,oBAAUe,MALI;AAMvBW,eAAa,oBAAUhF;AANA,CAAzB;;AAaAmG,aAAajG,YAAb,GAA4B;AAC1B0F,aAAW;AACTC,WAAO;AADE,GADe;AAI1BvC,WAAS,IAJiB;AAK1B0B,eAAa;AALa,CAA5B;;AAaA,SAAS7E,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLkD,aAASlD,MAAMa,GAAN,CAAUqC,OADd;AAEL0B,iBAAa5E,MAAMa,GAAN,CAAU+D,WAFlB;AAGLM,cAAUlF,MAAMM,QAAN,CAAe4E,QAHpB;AAIL/B,cAAUnD,MAAMM,QAAN,CAAekG;AAJpB,GAAP;AAMD;;kBAEc,yBAAQzG,eAAR,EAAyBgG,YAAzB,C;;;;;;;;;;;;;;;;ACpIf;;;;AACA;;;;;;;;;;;;IAEMU,gB;;;;;;;;;;;uCAKe;AAAA,UACTC,UADS,GACM,KAAKtH,KADX,CACTsH,UADS;;;AAGjB,aAAOC,OAAOC,IAAP,CAAYF,UAAZ,EAAwB7F,GAAxB,CAA4B;AAAA,eACjC;AAAA;AAAA;AACE,mBAAO5B,GADT;AAEE,iBAAKA;AAFP;AAIGyH,qBAAWzH,GAAX;AAJH,SADiC;AAAA,OAA5B,CAAP;AAQD;;;6BAMQ;AAAA,UACCyH,UADD,GACgB,KAAKtH,KADrB,CACCsH,UADD;;AAEP,UAAIA,eAAehB,SAAf,IAA4BiB,OAAOC,IAAP,CAAYF,UAAZ,EAAwBP,MAAxB,KAAmC,CAAnE,EAAsE;AACpE,eACE;AAAA;AAAA,YAAK,WAAU,qCAAf;AACE;AAAA;AAAA,cAAK,WAAU,cAAf;AACE;AAAA;AAAA;AACE,sBAAK,UADP;AAEE,2BAAU,+BAFZ;AAGE,8BAAa;AAHf;AAKE;AAAA;AAAA,kBAAQ,OAAM,EAAd;AAAA;AAAA,eALF;AAMG,mBAAKU,gBAAL;AANH;AADF;AADF,SADF;AAcD;AACD,aAAO,IAAP;AACD;;;;EAzC4B,gBAAMrH,S;;AA4CrCiH,iBAAiBhH,SAAjB,GAA6B;AAE3BiH,cAAY,oBAAUI,SAAV,CAAoB,CAC9B,oBAAUnH,MADoB,EAE9B,oBAAUkG,KAFoB,CAApB,EAGThG;AALwB,CAA7B;;kBAQe4G,gB;;;;;;;;;;;;;;;;ACvDf;;;;AACA;;;;;;;;;;;;IAEMM,c;;;;;;;;;;;kCAKU;AAAA,UACJC,KADI,GACM,KAAK5H,KADX,CACJ4H,KADI;;;AAGZ,aAAOL,OAAOC,IAAP,CAAYI,KAAZ,EAAmBnG,GAAnB,CAAuB;AAAA,eAC5B;AAAA;AAAA;AACE,mBAAOmG,MAAM/H,GAAN,CADT;AAEE,iBAAKA;AAFP;AAIG+H,gBAAM/H,GAAN;AAJH,SAD4B;AAAA,OAAvB,CAAP;AAQD;;;6BAMQ;AAAA,UACC+H,KADD,GACW,KAAK5H,KADhB,CACC4H,KADD;;AAEP,UAAIA,UAAUtB,SAAV,IAAuBiB,OAAOC,IAAP,CAAYI,KAAZ,EAAmBb,MAAnB,KAA8B,CAAzD,EAA4D;AAC1D,eACE;AAAA;AAAA,YAAK,WAAU,qCAAf;AAEE;AAAA;AAAA,cAAK,WAAU,cAAf;AACE;AAAA;AAAA;AACE,sBAAK,QADP;AAEE,2BAAU,+BAFZ;AAGE,8BAAa;AAHf;AAKE;AAAA;AAAA,kBAAQ,OAAM,EAAd;AAAA;AAAA,eALF;AAMG,mBAAKc,WAAL;AANH;AADF;AAFF,SADF;AAeD;AACD,aAAO,IAAP;AACD;;;;EA1C0B,gBAAMzH,S;;AA6CnCuH,eAAetH,SAAf,GAA2B;AAEzBuH,SAAO,oBAAUF,SAAV,CAAoB,CACzB,oBAAUnH,MADe,EAEzB,oBAAUkG,KAFe,CAApB,EAGJhG;AALsB,CAA3B;;kBAQekH,c;;;;;;;;;;;;;;;;ACvDf;;;;AACA;;;;AACA;;AAEA;;AACA;;;;AACA;;;;;;;;;;;;IAEMG,S;;;AAMJ,qBAAY9H,KAAZ,EAAmB;AAAA;;AAAA,sHACXA,KADW;;AAEjB,UAAK+H,YAAL,GAAoB,MAAKA,YAAL,CAAkB9B,IAAlB,OAApB;AAFiB;AAGlB;;;;iCAKY+B,K,EAAO;AAClBA,YAAMC,cAAN;AACA,UAAMC,eAAerG,SAASsG,iBAAT,CAA2B,SAA3B,EAAsC,CAAtC,EAAyCC,KAA9D;AACA,UAAMC,cAAcxG,SAASsG,iBAAT,CAA2B,QAA3B,EAAqC,CAArC,EAAwCC,KAA5D;AACA,UAAIE,gBAAgB,EAApB;AACA,UAAIzG,SAASsG,iBAAT,CAA2B,UAA3B,EAAuC,CAAvC,MAA8C7B,SAAlD,EAA6D;AAC3DgC,wBAAgBzG,SAASsG,iBAAT,CAA2B,UAA3B,EAAuC,CAAvC,EAA0CC,KAA1D;AACD;;AAED,WAAKpI,KAAL,CAAWkG,QAAX,CACE,2BAAO;AACLrF,iBAASqH,YADJ;AAELnH,gBAAQsH,WAFH;AAGLrH,kBAAUsH;AAHL,OAAP,CADF;AAOD;;;6BAMQ;AACP,aACE;AAAA;AAAA,UAAM,QAAO,EAAb,EAAgB,UAAU,KAAKP,YAA/B;AACE;AAAA;AAAA;AACE;AAAA;AAAA,cAAK,WAAU,iCAAf;AACE;AAAA;AAAA,gBAAK,WAAU,cAAf;AACE;AACE,sBAAK,MADP;AAEE,sBAAK,SAFP;AAGE,2BAAU,2BAHZ;AAIE,iCAAc,MAJhB;AAKE,6BAAY;AALd;AADF;AADF,WADF;AAYE,oEAAgB,OAAO,KAAK/H,KAAL,CAAW4H,KAAlC,GAZF;AAaE,sEAAkB,YAAY,KAAK5H,KAAL,CAAWsH,UAAzC;AAbF,SADF;AAiBE;AAAA;AAAA,YAAK,WAAU,aAAf;AACE;AACE,kBAAK,QADP;AAEE,mBAAM,QAFR;AAGE,uBAAU;AAHZ;AADF,SAjBF;AAwBE,+CAAK,WAAU,OAAf;AAxBF,OADF;AA4BD;;;;EAjEqB,gBAAMlH,S;;AAoE9B0H,UAAUzH,SAAV,GAAsB;AAEpBuH,SAAO,oBAAUF,SAAV,CAAoB,CACzB,oBAAUnH,MADe,EAEzB,oBAAUkG,KAFe,CAApB,EAGJhG,UALiB;;AAOpB6G,cAAY,oBAAUI,SAAV,CAAoB,CAC9B,oBAAUnH,MADoB,EAE9B,oBAAUkG,KAFoB,CAApB,EAGThG,UAViB;AAWpByF,YAAU,oBAAUhB,IAAV,CAAezE;AAXL,CAAtB;;AAoBA,SAASE,eAAT,CAAyBC,KAAzB,EAAgC;AAC9B,SAAO;AACLgH,WAAOhH,MAAMM,QAAN,CAAe0G,KADjB;AAELN,gBAAY1G,MAAMM,QAAN,CAAeoG;AAFtB,GAAP;AAID;;kBAEc,yBAAQ3G,eAAR,EAAyBmH,SAAzB,C;;;;;;;;;;;;;;;;ACxGf;;;;;;;;;;;;;;;;;;;;;;;;kBCOwBtG,O;;AAPxB;;;;;;AAEA,IAAM+G,eAAe;AACnBzE,WAAS,IADU;AAEnB0B,eAAa;AAFM,CAArB;;AAKe,SAAShE,OAAT,GAA+C;AAAA,MAA9BZ,KAA8B,uEAAtB2H,YAAsB;AAAA,MAARC,MAAQ;;AAC5D,UAAQA,OAAO9I,IAAf;AACE,SAAK,sBAAWC,YAAhB;AACE,0BACKiB,KADL;AAEEkD,iBAAS0E,OAAO5I,OAAP,CAAeC,GAF1B;AAGE2F,qBAAa;AAHf;;AAMF,SAAK,sBAAW1F,YAAhB;AACE,0BACKc,KADL;AAEE4E,qBAAa;AAFf;;AAKF,SAAK,sBAAW7D,MAAhB;AACE,0BACKf,KADL;AAEEkD,iBAAS,IAFX;AAGE0B,qBAAa;AAHf;;AAMF;AACE,aAAO5E,KAAP;AAtBJ;AAwBD,C;;;;;;;;;;;;;;;;kBCxBuBY,O;;AARxB;;;;;;AAEA,IAAM+G,eAAe;AACnB1H,WAAS,EADU;AAEnBE,UAAQ,EAFW;AAGnBC,YAAU;AAHS,CAArB;;AAMe,SAASQ,OAAT,GAA+C;AAAA,MAA9BZ,KAA8B,uEAAtB2H,YAAsB;AAAA,MAARC,MAAQ;;AAC5D,UAAQA,OAAO9I,IAAf;AACE,SAAK,sBAAWiC,MAAhB;AACE,0BACKf,KADL;AAEEC,iBAAS2H,OAAO5I,OAAP,CAAeiB,OAF1B;AAGEE,gBAAQyH,OAAO5I,OAAP,CAAemB,MAHzB;AAIEC,kBAAUwH,OAAO5I,OAAP,CAAeoB;AAJ3B;;AAOF;AACE,aAAOJ,KAAP;AAVJ;AAYD,C;;;;;;;;;;;;;;;;kBCXuBY,O;;AAVxB;;;;AACA;;;;;;AAEA,IAAM+G,eAAe;AACnBtI,kBAAgB;AADG,CAArB;;AAOe,SAASuB,OAAT,GAA+C;AAAA,MAA9BZ,KAA8B,uEAAtB2H,YAAsB;AAAA,MAARC,MAAQ;;AAC5D,UAAQA,OAAO9I,IAAf;AACE,SAAK,sBAAW+I,YAAhB;AAA8B;AAC5B,YAAIvH,WAAWsH,OAAOE,MAAP,CAAcxI,IAAd,CAAmByI,eAAlC;;AAGA,YAAIzH,aAAaoF,SAAjB,EAA4B;AAC1B,iBAAO1F,KAAP;AACD;;AAGD,YAAIM,SAAS0H,WAAT,KAAyBC,KAA7B,EAAoC;AAClC3H,qBAAWA,SAAS,CAAT,CAAX;AACD;;AAGD,YAAIA,SAASqD,IAAT,KAAkB,IAAtB,EAA4B;AAC1BrD,mBAASqD,IAAT,GAAgB,GAAhB;AACD;;AAED,YAAIrD,SAAS4H,QAAT,KAAsB,IAA1B,EAAgC;AAC9B5H,mBAAS4H,QAAT,GAAoB,OAApB;AACD;;AAED,4BACKlI,KADL;AAEEX,0BAAgB,IAFlB;;AAIEgB,gBAAMC,SAASqD,IAJjB;AAKEuB,oBAAU5E,SAAS4H,QALrB;AAMEC,iBAAO7H,SAAS8H,KANlB;AAOEpB,iBAAOqB,KAAKtE,KAAL,CAAWzD,SAASgI,KAApB,CAPT;AAQE5B,sBAAY2B,KAAKtE,KAAL,CAAWzD,SAASiI,UAApB,CARd;AASE/B,8BAAoB,qBAAWgC,OAAX,CAAmBH,KAAKtE,KAAL,CAAWzD,SAASmI,kBAApB,CAAnB,CATtB;AAUE3C,wBAAc,qBAAW0C,OAAX,CAAmBH,KAAKtE,KAAL,CAAWzD,SAASoI,YAApB,CAAnB;AAVhB;AAYD;;AAED;AACE,aAAO1I,KAAP;AAtCJ;AAwCD,C;;;;;;;;;;;;;;AC/CD,IAAM2I,cAAc;AAElBd,gBAAc,qBAFI;;AAKlB9G,UAAQ,QALU;;AAQlBhC,gBAAc,cARI;AASlBG,gBAAc;AATI,CAApB;;kBAYeyJ,W","file":"js/main.js","sourcesContent":["import ActionType from 'actions/ActionTypes';\n\nexport function openMarker(target) {\n  return {\n    type: ActionType.MARKER_CLICK,\n    payload: {\n      key: target,\n    },\n  };\n}\n\nexport function highlightLocation(target) {\n  return {\n    type: ActionType.MARKER_CLICK,\n    payload: target,\n  };\n}\n\nexport function closeMarker(target) {\n  return {\n    type: ActionType.MARKER_CLOSE,\n    payload: target,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/mapActions.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  graphql,\n  compose,\n} from 'react-apollo';\nimport { connect } from 'react-redux';\n\nimport readLocations from 'queries/readLocations';\nimport Search from 'components/search/SearchBar';\nimport MapArea from 'components/map/MapArea';\n\n/**\n * The main locator component.\n */\nclass Locator extends React.Component {\n  /**\n   * Renders the component\n   * @returns {XML}\n   */\n  render() {\n    if (this.props.loadedSettings === false) {\n      return <div />;\n    }\n    return (\n      <div>\n        <Search />\n        <MapArea locations={this.props.data.readLocations} />\n      </div>\n    );\n  }\n}\n\n/**\n * The prop types of the Locator component\n * @type {{data}}\n */\nLocator.propTypes = {\n  data: PropTypes.shape({\n    readLocations: PropTypes.object,\n  }),\n  loadedSettings: PropTypes.bool.isRequired,\n};\n\n/**\n * The defaults of props that aren't required\n * @type {{data: {readLocations: {}}}}\n */\nLocator.defaultProps = {\n  data: {\n    readLocations: {},\n  },\n};\n\n/**\n * Takes variables/functions from the state and assigns them to variables/functions in the components props.\n *\n * @param state\n * @returns {{address, radius}}\n */\nfunction mapStateToProps(state) {\n  return {\n    address: state.search.address,\n    radius: state.search.radius,\n    category: state.search.category,\n    unit: state.settings.unit,\n    loadedSettings: state.settings.loadedSettings,\n  };\n}\n\n/**\n * The default export of the file.\n *\n * It is first connected to the redux state, then with graphql.\n * Graphql then uses the props of the component to put variables into a query.\n *\n * State -> Props -> Query\n *\n * Whenever the state is changed the props change and this triggers a new query.\n */\nexport default compose(\n  connect(mapStateToProps),\n  graphql(readLocations, {\n    skip: ({ loadedSettings }) => !loadedSettings,\n    options: ({ address, radius, category, unit }) => ({\n      variables: {\n        /* eslint-disable object-shorthand */\n        address: address,\n        radius: radius,\n        category: category,\n        unit: unit,\n        /* eslint-enable */\n      },\n    }),\n  }),\n)(Locator);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/Locator.jsx","import gql from 'graphql-tag';\n\n/**\n * The query for getting the locator settings\n */\nexport default gql`\n  query ($id: Int!){\n    locatorSettings (ID: $id){\n      Limit,\n      Radii,\n      Unit,\n      Clusters,\n      Categories,\n      InfoWindowTemplate,\n      ListTemplate\n    }\n  }\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/queries/locatorSettings.js","import {\n  combineReducers,\n} from 'redux';\n\nimport searchReducer from 'reducers/searchReducer';\nimport mapReducer from 'reducers/mapReducer';\nimport settingsReducer from 'reducers/settingsReducer';\n\nexport default function reducers(client) {\n  return combineReducers({\n    client: client.reducer(),\n    search: searchReducer,\n    map: mapReducer,\n    settings: settingsReducer,\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/index.js","import ActionType from 'actions/ActionTypes';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function search(inputs) {\n  return {\n    type: ActionType.SEARCH,\n    payload: inputs,\n  };\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/searchActions.js","/* global window, document */\nimport React from 'react';\nimport ReactDom from 'react-dom';\n\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport thunk from 'redux-thunk';\n\nimport ApolloClient, { createNetworkInterface } from 'apollo-client';\nimport { ApolloProvider } from 'react-apollo';\n\nimport allReducers from 'reducers';\nimport Locator from 'components/Locator';\nimport locatorSettings from 'queries/locatorSettings';\n\n// only the first container is used, can change to querySelectorAll() for multiple instances\nconst container = document.querySelector('.locator');\n\n// creates the apollo client used to run graphql queries\nconst client = new ApolloClient({\n  networkInterface: createNetworkInterface({\n    uri: container.dataset.apiUrl,\n    opts: {\n      credentials: 'same-origin',\n    },\n  }),\n  // changes the name of where the client stores information in the state\n  reduxRootSelector: state => state.client,\n});\n\n/**\n * Writes deeply nested function transformations without the rightward drift of the code.\n * [redux compose]{@link http://redux.js.org/docs/api/compose.html}\n * @returns {Function}\n */\nfunction composedMiddleware() {\n  return compose(\n    applyMiddleware(client.middleware(), thunk),\n    // eslint-disable-next-line no-underscore-dangle\n    (typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined') ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\n  );\n}\n\n// creates the redux store with reducers and middleware\nconst store = createStore(allReducers(client), composedMiddleware());\n\n// renders the locator, wrapped in an apollo provider so graphql can run queries\nReactDom.render(\n  <ApolloProvider store={store} client={client}>\n    <Locator />\n  </ApolloProvider>\n  , container);\n\n// query for settings\nclient.query({\n  query: locatorSettings,\n  variables: {\n    id: container.dataset.locatorId,\n  },\n});\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/boot/index.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Parser as HtmlToReactParser } from 'html-to-react';\n\n/**\n * The Location component.\n * Used in the location list.\n */\nclass Location extends React.Component {\n  /**\n   * Rounds the distance\n   * @returns Number|Boolean\n   */\n  getDistance() {\n    const { location, search } = this.props;\n    let distance = location.distance;\n    distance = parseFloat(distance);\n\n    if (distance === 0 && !search) {\n      return false;\n    }\n\n    return distance.toFixed(2);\n  }\n\n  /**\n   * Gets the daddr string for google maps directions\n   * @returns {string}\n   */\n  getDaddr() {\n    const { location } = this.props;\n    let daddr = '';\n\n    if (location.Address) {\n      daddr += `${location.Address}+`;\n    }\n\n    if (location.Address2) {\n      daddr += `${location.Address2}+`;\n    }\n\n    if (location.City) {\n      daddr += `${location.City}+`;\n    }\n\n    if (location.State) {\n      daddr += `${location.State}+`;\n    }\n\n    if (location.PostalCode) {\n      daddr += location.PostalCode;\n    }\n\n    return this.cleanAddress(daddr);\n  }\n\n  /**\n   * Replaces any trailing '+' and whitespace and any spaces left with '+'\n   *\n   * @param address\n   * @returns String\n   */\n  cleanAddress(address) {\n    return address.replace(/([+\\s]+$)/g, '').replace(/(\\s)/g, '+');\n  }\n\n  /**\n   * renders the component\n   * @returns {XML}\n   */\n  render() {\n    const { location, index, current, search, template, unit, onClick } = this.props;\n    const htmlToReactParser = new HtmlToReactParser();\n\n    const loc = {\n      ...location,\n      Distance: this.getDistance(),\n      DirectionsLink: `http://maps.google.com/maps?saddr=${this.cleanAddress(search)}&daddr=${this.getDaddr()}`,\n      Unit: unit,\n      Number: index + 1,\n    };\n\n    let className = 'list-location';\n    if (current === location.ID) {\n      className += ' focus';\n    }\n    return (\n      // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions\n      <li data-markerid={index} className={className} onClick={() => onClick(location.ID)}>\n        {htmlToReactParser.parse(template(loc))}\n      </li>\n    );\n  }\n}\n\n/**\n * defines the prop types\n * @type {{location, index: *}}\n */\nLocation.propTypes = {\n  location: PropTypes.shape({\n    Title: PropTypes.string,\n    Address: PropTypes.string,\n    Address2: PropTypes.string,\n    City: PropTypes.string,\n    State: PropTypes.string,\n    PostalCode: PropTypes.string,\n    Website: PropTypes.string,\n    Phone: PropTypes.string,\n    Email: PropTypes.string,\n    distance: PropTypes.string,\n  }).isRequired,\n  index: PropTypes.number.isRequired,\n  current: PropTypes.string.isRequired,\n  search: PropTypes.string.isRequired,\n  unit: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  template: PropTypes.func.isRequired,\n};\n\n/**\n * Exports the Location components\n */\nexport default Location;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/map/Location.jsx","import React from 'react';\nimport { withGoogleMap, GoogleMap, Marker, InfoWindow } from 'react-google-maps';\nimport MarkerClusterer from \"react-google-maps/lib/addons/MarkerClusterer\";\n\nconst markers = (props) => {\n  return props.markers.map(marker => (\n    <Marker\n      key={marker.key}\n      position={marker.position}\n      defaultAnimation={marker.defaultAnimation}\n      onClick={() => props.onMarkerClick(marker)}\n    >\n      {props.current === marker.key && props.showCurrent && (\n        <InfoWindow onCloseClick={() => props.onMarkerClose(marker)}>\n          <div>{marker.infoContent}</div>\n        </InfoWindow>\n      )}\n    </Marker>\n  ));\n};\n\nconst Map = withGoogleMap(props => (\n  <GoogleMap\n    defaultZoom={9}\n    defaultCenter={{ lat: 43.8483258, lng: -87.7709294 }}\n\n  >\n    {props.clusters === 'true' ? <MarkerClusterer\n        averageCenter\n        enableRetinaIcons\n        gridSize={60}\n      >\n        {markers(props)}\n      </MarkerClusterer> :\n      markers(props)}\n  </GoogleMap>\n));\n\nexport default Map;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/map/Map.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { openMarker } from 'actions/mapActions';\nimport Location from 'components/map/Location';\nimport MapContainer from 'components/map/MapContainer';\n\n/**\n * The MapArea component.\n * Renders the MapContainer and location list.\n */\nclass MapArea extends React.Component {\n  /**\n   * Used to create the Map.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    this.handleLocationClick = this.handleLocationClick.bind(this);\n  }\n\n  handleLocationClick(target) {\n    this.props.dispatch(openMarker(target));\n  }\n\n  /**\n   * Renders the locations\n   * @returns {*}\n   */\n  renderLocations() {\n    const { current, search, unit, template } = this.props;\n    const locs = this.props.locations.edges;\n    if (locs !== undefined) {\n      return locs.map((location, index) =>\n        (\n          <Location\n            key={location.node.ID}\n            index={index}\n            location={location.node}\n            current={current}\n            search={search}\n            unit={unit}\n            onClick={this.handleLocationClick}\n            template={template}\n          />\n        ),\n      );\n    }\n    return null;\n  }\n\n  /**\n   * Renders the component\n   * @returns {XML}\n   */\n  render() {\n    return (\n      <div className=\"map-area\">\n        <MapContainer locations={this.props.locations} />\n        <div className=\"loc-list\">\n          <ul>\n            {this.renderLocations()}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\n/**\n * Defines the prop types\n * @type {{locations: *}}\n */\nMapArea.propTypes = {\n  locations: PropTypes.shape({\n    edges: PropTypes.array,\n  }),\n  current: PropTypes.string,\n  search: PropTypes.string,\n  unit: PropTypes.string.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\n/**\n * Defines the default values of the props\n * @type {{locations: {edges: Array}}}\n */\nMapArea.defaultProps = {\n  locations: {\n    edges: [],\n  },\n  current: '-1',\n  search: '',\n};\n\n/**\n * Maps that state to props\n * @param state\n * @returns {{current}}\n */\nfunction mapStateToProps(state) {\n  return {\n    current: state.map.current,\n    search: state.search.address,\n    unit: state.settings.unit,\n    template: state.settings.listTemplate,\n  };\n}\n\n\n/**\n * export the Map Component\n */\nexport default connect(mapStateToProps)(MapArea);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/map/MapArea.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Parser as HtmlToReactParser } from 'html-to-react';\n\nimport { highlightLocation, closeMarker } from 'actions/mapActions';\nimport Map from 'components/map/Map';\n\n/**\n * The MapArea component.\n * Renders the map.\n */\nclass MapContainer extends React.Component {\n  /**\n   * Used to create the Map.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    this.handleMarkerClick = this.handleMarkerClick.bind(this);\n    this.handleMarkerClose = this.handleMarkerClose.bind(this);\n  }\n\n  /**\n   * Generates an array of marker objects to use on the map\n   */\n  getMarkers() {\n    const locations = this.props.locations.edges;\n    const markers = [];\n\n    const htmlToReactParser = new HtmlToReactParser();\n\n    let i;\n    // eslint-disable-next-line no-plusplus\n    for (i = 0; i < locations.length; i++) {\n      const loc = locations[i].node;\n      markers[markers.length] = {\n        position: {\n          lat: Number(loc.Lat),\n          lng: Number(loc.Lng),\n        },\n        key: loc.ID,\n        defaultAnimation: 2,\n        infoContent: (\n          <div>\n            {htmlToReactParser.parse(this.props.template(loc))}\n          </div>\n        ),\n      };\n    }\n    return markers;\n  }\n\n  /**\n   * Fires and event for clicking a marker\n   * @param target The marker that was clicked\n   */\n  handleMarkerClick(target) {\n    this.props.dispatch(highlightLocation(target));\n  }\n\n  /**\n   * Fires event for closing a marker info box\n   * @param target The marker that had its info box closed\n   */\n  handleMarkerClose(target) {\n    this.props.dispatch(closeMarker(target));\n  }\n\n  render() {\n    const { current, showCurrent, clusters } = this.props;\n    return (\n      <div id=\"map-container\">\n        <Map\n          containerElement={\n            <div className=\"map\" />\n          }\n          mapElement={\n            <div style={{ height: '100%' }} />\n          }\n          markers={this.getMarkers()}\n          onMarkerClick={this.handleMarkerClick}\n          onMarkerClose={this.handleMarkerClose}\n          current={current}\n          showCurrent={showCurrent}\n          clusters={clusters}\n        />\n      </div>\n    );\n  }\n}\n\n/**\n * Defines the prop types\n * @type {{locations: *}}\n */\nMapContainer.propTypes = {\n  locations: PropTypes.shape({\n    edges: PropTypes.array,\n  }),\n  dispatch: PropTypes.func.isRequired,\n  current: PropTypes.string,\n  showCurrent: PropTypes.bool,\n};\n\n/**\n * Defines the default values of the props\n * @type {{locations: {edges: Array}}}\n */\nMapContainer.defaultProps = {\n  locations: {\n    edges: [],\n  },\n  current: '-1',\n  showCurrent: false,\n};\n\n/**\n * Maps that state to props\n * @param state\n * @returns {{current}}\n */\nfunction mapStateToProps(state) {\n  return {\n    current: state.map.current,\n    showCurrent: state.map.showCurrent,\n    clusters: state.settings.clusters,\n    template: state.settings.infoWindowTemplate,\n  };\n}\n\nexport default connect(mapStateToProps)(MapContainer);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/map/MapContainer.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass CategoryDropDown extends React.Component {\n  /**\n   * Maps the radii into options for the drop down.\n   * @returns {Array}\n   */\n  mappedCategories() {\n    const { categories } = this.props;\n\n    return Object.keys(categories).map(key => (\n      <option\n        value={key}\n        key={key}\n      >\n        {categories[key]}\n      </option>\n    ));\n  }\n\n  /**\n   * Outputs the radius drop down.\n   * @returns {*}\n   */\n  render() {\n    const { categories } = this.props;\n    if (categories !== undefined && Object.keys(categories).length !== 0) {\n      return (\n        <div className=\"field dropdown form-group--no-label\">\n          <div className=\"middleColumn\">\n            <select\n              name=\"category\"\n              className=\"dropdown form-group--no-label\"\n              defaultValue=\"\"\n            >\n              <option value=\"\">category</option>\n              {this.mappedCategories()}\n            </select>\n          </div>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nCategoryDropDown.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  categories: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n};\n\nexport default CategoryDropDown;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/CategoryDropDown.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass RadiusDropDown extends React.Component {\n  /**\n   * Maps the radii into options for the drop down.\n   * @returns {Array}\n   */\n  mappedRadii() {\n    const { radii } = this.props;\n\n    return Object.keys(radii).map(key => (\n      <option\n        value={radii[key]}\n        key={key}\n      >\n        {radii[key]}\n      </option>\n    ));\n  }\n\n  /**\n   * Outputs the radius drop down.\n   * @returns {*}\n   */\n  render() {\n    const { radii } = this.props;\n    if (radii !== undefined && Object.keys(radii).length !== 0) {\n      return (\n        <div className=\"field dropdown form-group--no-label\">\n\n          <div className=\"middleColumn\">\n            <select\n              name=\"radius\"\n              className=\"dropdown form-group--no-label\"\n              defaultValue=\"\"\n            >\n              <option value=\"\">radius</option>\n              {this.mappedRadii()}\n            </select>\n          </div>\n        </div>\n      );\n    }\n    return null;\n  }\n}\n\nRadiusDropDown.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  radii: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n};\n\nexport default RadiusDropDown;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/RadiusDropDown.jsx","/* global document */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { search } from 'actions/searchActions';\nimport RadiusDropDown from 'components/search/RadiusDropDown';\nimport CategoryDropDown from 'components/search/CategoryDropDown';\n\nclass SearchBar extends React.Component {\n  /**\n   * Used to create the SearchBar.\n   * needed to allow use of this keyword in handler.\n   * @param props\n   */\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  /**\n   * 'Submits' form. Really just fires state change.\n   */\n  handleSubmit(event) {\n    event.preventDefault();\n    const addressInput = document.getElementsByName('address')[0].value;\n    const radiusInput = document.getElementsByName('radius')[0].value;\n    let categoryInput = '';\n    if (document.getElementsByName('category')[0] !== undefined) {\n      categoryInput = document.getElementsByName('category')[0].value;\n    }\n\n    this.props.dispatch(\n      search({\n        address: addressInput,\n        radius: radiusInput,\n        category: categoryInput,\n      }),\n    );\n  }\n\n  /**\n   * Renders the component.\n   * @returns {XML}\n   */\n  render() {\n    return (\n      <form action=\"\" onSubmit={this.handleSubmit}>\n        <fieldset>\n          <div className=\"field text form-group--no-label\">\n            <div className=\"middleColumn\">\n              <input\n                type=\"text\"\n                name=\"address\"\n                className=\"text form-group--no-label\"\n                aria-required=\"true\"\n                placeholder=\"address or zip code\"\n              />\n            </div>\n          </div>\n          <RadiusDropDown radii={this.props.radii} />\n          <CategoryDropDown categories={this.props.categories} />\n        </fieldset>\n\n        <div className=\"btn-toolbar\">\n          <input\n            type=\"submit\"\n            value=\"Search\"\n            className=\"action\"\n          />\n        </div>\n        <div className=\"clear\" />\n      </form>\n    );\n  }\n}\n\nSearchBar.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  radii: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  categories: PropTypes.oneOfType([\n    PropTypes.object,\n    PropTypes.array,\n  ]).isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\n/**\n * Takes variables/functions from the state and assigns them to variables/functions in the components props.\n *\n * @param state\n * @returns {{address, radius}}\n */\nfunction mapStateToProps(state) {\n  return {\n    radii: state.settings.radii,\n    categories: state.settings.categories,\n  };\n}\n\nexport default connect(mapStateToProps)(SearchBar);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/search/SearchBar.jsx","import gql from 'graphql-tag';\n\n/**\n * The query for getting locations\n */\nexport default gql`\n  query($address: String, $radius: String, $category: String, $unit: String){\n    readLocations(address: $address, radius: $radius, category: $category, unit: $unit) {\n      edges {\n        node {\n          ID\n          Title\n          Website\n          Email\n          Phone\n          Address\n          Address2\n          City\n          State\n          Country\n          PostalCode\n          Lat\n          Lng\n          distance\n          Category {\n            ID\n            Name\n          }\n        }\n      } \n    }\n  }\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/queries/readLocations.js","import ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  current: '-1',\n  showCurrent: false,\n};\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.MARKER_CLICK:\n      return {\n        ...state,\n        current: action.payload.key,\n        showCurrent: true,\n      };\n\n    case ActionType.MARKER_CLOSE:\n      return {\n        ...state,\n        showCurrent: false,\n      };\n\n    case ActionType.SEARCH:\n      return {\n        ...state,\n        current: '-1',\n        showCurrent: false,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/mapReducer.js","import ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  address: '',\n  radius: '',\n  category: '',\n};\n\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.SEARCH:\n      return {\n        ...state,\n        address: action.payload.address,\n        radius: action.payload.radius,\n        category: action.payload.category,\n      };\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/searchReducer.js","import handlebars from 'handlebars';\nimport ActionType from 'actions/ActionTypes';\n\nconst defaultState = {\n  loadedSettings: false,\n};\n\n/**\n * The reducer for creating a part in the store for things like radius and categories\n */\nexport default function reducer(state = defaultState, action) {\n  switch (action.type) {\n    case ActionType.QUERY_RESULT: {\n      let settings = action.result.data.locatorSettings;\n\n      // skip if no settings attached\n      if (settings === undefined) {\n        return state;\n      }\n\n      // in case its an array\n      if (settings.constructor === Array) {\n        settings = settings[0];\n      }\n\n      // just in case unit is null\n      if (settings.Unit === null) {\n        settings.Unit = 'm';\n      }\n\n      if (settings.Clusters === null) {\n        settings.Clusters = 'false';\n      }\n\n      return {\n        ...state,\n        loadedSettings: true,\n\n        unit: settings.Unit,\n        clusters: settings.Clusters,\n        limit: settings.Limit,\n        radii: JSON.parse(settings.Radii),\n        categories: JSON.parse(settings.Categories),\n        infoWindowTemplate: handlebars.compile(JSON.parse(settings.InfoWindowTemplate)),\n        listTemplate: handlebars.compile(JSON.parse(settings.ListTemplate))\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/settingsReducer.js","/**\n * List of action types.\n * Could just be strings, but I feel better when referencing a constant that doesn't change without erroring.\n */\nconst ActionTypes = {\n  // Query actions\n  QUERY_RESULT: 'APOLLO_QUERY_RESULT',\n\n  // Search action\n  SEARCH: 'SEARCH',\n\n  // Marker actions\n  MARKER_CLICK: 'MARKER_CLICK',\n  MARKER_CLOSE: 'MARKER_CLOSE',\n};\n\nexport default ActionTypes;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/actions/ActionTypes.js"],"sourceRoot":""}