{"version":3,"sources":["webpack:///./client/src/js/components/Locator.jsx","webpack:///./client/src/js/reducers/index.js","webpack:///./client/src/js/boot/index.jsx","webpack:///./client/src/js/components/Location.jsx","webpack:///./client/src/js/components/Map.jsx","webpack:///./client/src/js/components/SearchBar.jsx","webpack:///./client/src/js/queries/readLocations.js"],"names":["Locator","radii","props","data","readLocations","React","Component","mapStateToProps","state","address","client","radius","compose","connect","graphql","options","variables","reducers","combineReducers","reducer","container","document","querySelector","networkInterface","createNetworkInterface","uri","dataset","apiUrl","opts","credentials","reduxRootSelector","composedMiddleware","applyMiddleware","middleware","window","__REDUX_DEVTOOLS_EXTENSION__","f","store","createStore","allReducers","ReactDom","render","Location","location","City","State","PostalCode","Website","Phone","index","Title","Address","Address2","addressThree","links","propTypes","PropTypes","shape","string","isRequired","number","Map","locs","locations","edges","undefined","map","node","ID","renderLocations","array","defaultProps","SearchBar","mappedRadii"],"mappings":"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","file":"js/main.js","sourcesContent":["import React from 'react';\n\nimport {\n  graphql,\n  compose,\n} from 'react-apollo';\nimport { connect } from 'react-redux';\n\nimport readLocations from '../queries/readLocations';\nimport Search from './SearchBar';\nimport Map from './Map';\n\n/**\n * The main locator component.\n */\nclass Locator extends React.Component {\n  /**\n   * Renders the component\n   * @returns {XML}\n   */\n  render() {\n    const radii = [\n      25, 50, 75, 100,\n    ];\n    return (\n      <div>\n        <Search radii={radii} />\n        <Map locations={this.props.data.readLocations} />\n      </div>\n    );\n  }\n}\n\n/**\n * Takes variables/functions from the state and assigns them to variables/functions in the components props.\n *\n * @param state\n * @returns {{address, radius}}\n */\nfunction mapStateToProps(state) {\n  return {\n    address: state.client.address,\n    radius: state.client.radius,\n  };\n}\n\n/**\n * The default export of the file.\n *\n * It is first connected to the redux state, then with graphql.\n * Graphql then uses the state to put variables into a query.\n */\nexport default compose(\n  connect(mapStateToProps),\n  graphql(readLocations, {\n    options: ({ address, radius }) => ({\n      variables: {\n        address,\n        radius,\n      },\n    }),\n  }),\n)(Locator);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/Locator.jsx","import {\n  combineReducers,\n} from 'redux';\n\n\nexport default function reducers(client) {\n  return combineReducers({\n    client: client.reducer(),\n  });\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/reducers/index.js","/* global window, document */\nimport React from 'react';\nimport ReactDom from 'react-dom';\n\nimport {\n  createStore,\n  applyMiddleware,\n  compose,\n} from 'redux';\nimport thunk from 'redux-thunk';\n\nimport ApolloClient, { createNetworkInterface } from 'apollo-client';\nimport { ApolloProvider } from 'react-apollo';\n\nimport allReducers from 'reducers';\nimport Locator from 'components/Locator';\n\n// only the first container is used, can change to querySelectorAll() for multiple instances\nconst container = document.querySelector('.locator');\n\nconst client = new ApolloClient({\n  networkInterface: createNetworkInterface({\n    uri: container.dataset.apiUrl,\n    opts: {\n      credentials: 'same-origin',\n    },\n  }),\n  reduxRootSelector: state => state.client,\n});\n\nfunction composedMiddleware() {\n  return compose(\n    applyMiddleware(client.middleware(), thunk),\n    // eslint-disable-next-line no-underscore-dangle\n    (typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined') ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\n  );\n}\n\nconst store = createStore(allReducers(client), composedMiddleware());\n\n\nReactDom.render(\n  <ApolloProvider store={store} client={client}>\n    <Locator />\n  </ApolloProvider>\n  , container);\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/boot/index.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * The Location component.\n * Used in the location list.\n */\nclass Location extends React.Component {\n  /**\n   * Renders Address 3 line\n   * @returns {XML}\n   */\n  addressThree() {\n    const { City, State, PostalCode } = this.props.location;\n    if (City !== null && State !== null && PostalCode !== null) {\n      return <div className=\"loc-addr3\">{City}, {State} {PostalCode}</div>;\n    } else if (City === null && State !== null && PostalCode !== null) {\n      return <div className=\"loc-addr3\">{State} {PostalCode}</div>;\n    } else if (City !== null && State === null && PostalCode !== null) {\n      return <div className=\"loc-addr3\">{City} {PostalCode}</div>;\n    }\n    return <div className=\"loc-addr3\" />;\n  }\n\n  /**\n   * renders the link section (website/phone)\n   * @returns {XML}\n   */\n  links() {\n    const { Website, Phone } = this.props.location;\n    if (Website !== null && Phone !== null) {\n      return (\n        <div>\n          <a href={Website} target=\"_blank\">website</a>\n          &nbsp;|&nbsp;\n          <a href={`tel:${Phone}`}>phone</a>\n        </div>\n      );\n    } else if (Website !== null) {\n      return (\n        <div>\n          <a href={Website} target=\"_blank\">website</a>\n        </div>\n      );\n    } else if (Phone !== null) {\n      return (\n        <div>\n          <a href={`tel:${Phone}`}>phone</a>\n        </div>\n      );\n    }\n    return <div />;\n  }\n\n  /**\n   * renders the component\n   * @returns {XML}\n   */\n  render() {\n    const { location, index } = this.props;\n    return (\n      <li data-markerid={index}>\n        <div className=\"list-label\">{index + 1}</div>\n        <div className=\"list-details\">\n          <div className=\"list-content\">\n            <div className=\"loc-name\">{location.Title}</div>\n            <div className=\"loc-addr\">{location.Address}</div>\n            <div className=\"loc-addr2\">{location.Address2}</div>\n            {this.addressThree()}\n            {this.links()}\n\n            <div className=\"loc-dist\">\n              Distance\n            </div>\n          </div>\n        </div>\n      </li>\n    );\n  }\n}\n\n/**\n * defines the prop types\n * @type {{location, index: *}}\n */\nLocation.propTypes = {\n  location: PropTypes.shape({\n    Title: PropTypes.string,\n    Address: PropTypes.string,\n    Address2: PropTypes.string,\n    City: PropTypes.string,\n    State: PropTypes.string,\n    PostalCode: PropTypes.string,\n    Website: PropTypes.string,\n    Phone: PropTypes.string,\n  }).isRequired,\n  index: PropTypes.number.isRequired,\n};\n\n/**\n * Exports the Location components\n */\nexport default Location;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/Location.jsx","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Location from './Location';\n\n/**\n * The Map component.\n * Renders the map div and location list.\n */\nclass Map extends React.Component {\n  /**\n   * Renders the locations\n   * @returns {*}\n   */\n  renderLocations() {\n    const locs = this.props.locations.edges;\n    if (locs !== undefined) {\n      return locs.map((location, index) =>\n        (\n          <Location\n            key={location.node.ID}\n            index={index}\n            location={location.node}\n          />\n        ),\n      );\n    }\n    return null;\n  }\n\n  /**\n   * Renders the component\n   * @returns {XML}\n   */\n  render() {\n    return (\n      <div id=\"map-container\">\n        <div id=\"map\" />\n        <div className=\"loc-list\">\n          <ul>\n            {this.renderLocations()}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\n/**\n * Defines the prop types\n * @type {{locations: *}}\n */\nMap.propTypes = {\n  locations: PropTypes.shape({\n    edges: PropTypes.array,\n  }),\n};\n\n/**\n * Defines the default values of the props\n * @type {{locations: {edges: Array}}}\n */\nMap.defaultProps = {\n  locations: {\n    edges: [],\n  },\n};\n\n/**\n * export the Map Component\n */\nexport default Map;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/Map.jsx","import React from 'react';\n\nclass SearchBar extends React.Component {\n  mappedRadii() {\n    return this.props.radii.map(radius =>\n      (\n        <option\n          value=\"radius\"\n          key={radius}\n        >{radius}</option>\n      ),\n    );\n  }\n\n  radius() {\n    if (this.props.radii !== undefined) {\n      return (\n        <div className=\"field dropdown form-group--no-label\">\n\n          <div className=\"middleColumn\">\n            <select\n              name=\"radius\"\n              className=\"dropdown form-group--no-label\"\n              defaultValue=\"\"\n            >\n              <option value=\"\">radius</option>\n              {this.mappedRadii()}\n            </select>\n          </div>\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    return (\n      <form>\n        <fieldset>\n          <div className=\"field text form-group--no-label\">\n            <div className=\"middleColumn\">\n              <input\n                type=\"text\"\n                name=\"address\"\n                className=\"text form-group--no-label\"\n                required=\"required\"\n                aria-required=\"true\"\n                placeholder=\"address or zip code\"\n              />\n            </div>\n          </div>\n\n          {this.radius()}\n        </fieldset>\n\n        <div className=\"btn-toolbar\">\n          <input\n            type=\"submit\"\n            value=\"Search\"\n            className=\"action\"\n          />\n        </div>\n        <div className=\"clear\" />\n      </form>\n    );\n  }\n}\n\nexport default SearchBar;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/components/SearchBar.jsx","import gql from 'graphql-tag';\n\nexport default gql`\n  query {\n    readLocations {\n      edges {\n        node {\n          ID\n          Title\n          Website\n          Email\n          Phone\n          Address\n          Address2\n          City\n          State\n          Country\n          PostalCode\n          Lat\n          Lng\n        }\n      } \n    }\n  }\n`;\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/queries/readLocations.js"],"sourceRoot":""}